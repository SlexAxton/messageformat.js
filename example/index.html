<!DOCTYPE html>
<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script> 
    <script>document.write('<script src="' + (localStorage.getItem('lang') ||Â 'en') + '/i18n.js"><\/script>')</script>
  </head>
  <body>
    <div id="content">
    </div>
    <input type="button" value="en" name="en" />
    <input type="button" value="fr" name="fr" />
    <script>
      var colors = window.i18n.get('colors');
      $('<div>').text(colors('red')).appendTo('#content');
      $('<div>').text(colors('blue')).appendTo('#content');
      $('<div>').text(colors('green')).appendTo('#content');

      var plural_test = window.i18n.get('sub/folder/plural', 'test');
      $('<div>').text(plural_test({NUM: 1})).appendTo('#content');
      $('<div>').text(plural_test({NUM: 2})).appendTo('#content');

      $('input').click(function(e){
        e.preventDefault();
        var $target = $(e.target);
        var lang = $target.attr('name');
        localStorage.setItem('lang', lang);
        location.reload();
      });
    </script>
  </body>
</html>
